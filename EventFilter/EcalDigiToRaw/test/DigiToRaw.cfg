
process DigiToRaw = {


  service = MessageLogger {
    untracked vstring destinations = {"cout"}
  }

 source = PoolSource{
	    untracked vstring fileNames = {'file:/home/eperez/HLT/ForMonica/src/EventFilter/EcalDigiToRaw/test/TPG.root'}
            untracked int32 maxEvents = 10
 }



# ----- For the EE Mapping :

 include "Geometry/EcalMapping/data/EcalMapping.cfi"

 include "Geometry/EcalMapping/data/EcalMappingRecord.cfi"



module ecaldigitorawzerosup = EcalDigiToRaw {
	string Label = "ecalDigis"
	string InstanceEB = "SRPebDigis"
	string InstanceEE = "SRPeeDigis"
        untracked bool WriteTCCBlock = true
        untracked bool WriteSRFlags = true
	untracked bool WriteTowerBlock = true
	untracked bool debug = false
        untracked bool DoBarrel = true
        untracked bool DoEndCap = true
	InputTag labelTT = ecalTriggerPrimitiveDigis
	InputTag labelEBSRFlags = ecalDigis:ebSrFlags
	InputTag labelEESRFlags = ecalDigis:eeSrFlags
}

module ecaldigitorawunsup = EcalDigiToRaw {
        string Label = "ecalUnsuppressedDigis"
        string InstanceEB = ""
        string InstanceEE = ""
        untracked bool WriteTCCBlock = true
        untracked bool WriteSRFlags = true
        untracked bool WriteTowerBlock = true
        untracked bool debug = false
        untracked bool DoBarrel = true
        untracked bool DoEndCap = true
	InputTag labelTT = ecalTriggerPrimitiveDigis
	InputTag labelEBSRFlags = ecalDigis:ebSrFlags
	InputTag labelEESRFlags = ecalDigis:eeSrFlags
}



   module out = PoolOutputModule
   {
        untracked vstring outputCommands =
        {
        "keep *"
#    "drop *",
#    "keep *_ecalUnsuppressedDigis_*_*",
#    "keep *_ecalTriggerPrimitiveDigis_*_*",
#    "keep *_ecalDigis_*_*",
#    "keep FEDRawDataCollection_*_*_*"
        }
       untracked string fileName = "digitoraw.root"
   }

path p = {ecaldigitorawzerosup}

endpath ep = {out }


}




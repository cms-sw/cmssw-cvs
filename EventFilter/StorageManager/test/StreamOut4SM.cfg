process PROD  =
{
   untracked PSet options = 
    {
      untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
      untracked bool makeTriggerResults = true
    }

	source = EmptySource
	{
	  untracked int32 maxEvents = 40
	}

	module m1 = StreamThingProducer
	{
	 int32 array_size = 20000 #2 # 20000 
	 int32 instance_count=2
	}

	module a1 = StreamThingAnalyzer { string product_to_get="m1" }

   module out = EventStreamFileWriter
   {
     int32 max_event_size = 7000000
     int32 max_queue_depth = 5
     bool use_compression = false
     int32 compression_level = 1

     string fileName = "SMSampleFile.dat"
     string indexFileName = "SMSampleFile.ind"
     untracked int32 numPerFile = 20
     // these are only valid for online storage manager
     string filePath = "/scratch2/cheung"
     string mailboxPath = "/scratch2/cheung/mbox"
     string setupLabel = "mtcc"
     string streamLabel = "A"
     // maxSize parameter now has units of MByte
     int32 maxSize = 512
     double highWaterMark = 0.9
   }

        path p1 = { m1, a1 }
        endpath e1 = { out }
}

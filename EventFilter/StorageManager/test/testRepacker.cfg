
# Define a job to test some features of a repacker executable.
# Note that this is in many ways trivial compared to what the
# final repacker executable will need to be.

# This reads a single streamer file as input and then outputs
# 50 files using 50 PoolOutputModules.  Each output module
# selects events based on a bit in the triggerResults object
# in the input file.

# Original author   W. David Dagenhart   29 March 2007

process REPACKER = {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  untracked PSet options = 
  {
    untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
  }
  
  source = NewEventStreamFileReader
  {
    
    untracked vstring fileNames = {
      'file:testRandomFilter.dat'
    }
    int32 max_event_size = 7000000
    int32 max_queue_depth = 5
  }
  
  module out1 = PoolOutputModule
  {
    untracked string fileName = "p1.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p1:HLT" }
    }
  }

  module out2 = PoolOutputModule
  {
    untracked string fileName = "p2.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p2:HLT" }
    }
  }

  module out3 = PoolOutputModule
  {
    untracked string fileName = "p3.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p3:HLT" }
    }
  }

  module out4 = PoolOutputModule
  {
    untracked string fileName = "p4.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p4:HLT" }
    }
  }

  module out5 = PoolOutputModule
  {
    untracked string fileName = "p5.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p5:HLT" }
    }
  }

  module out6 = PoolOutputModule
  {
    untracked string fileName = "p6.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p6:HLT" }
    }
  }

  module out7 = PoolOutputModule
  {
    untracked string fileName = "p7.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p7:HLT" }
    }
  }

  module out8 = PoolOutputModule
  {
    untracked string fileName = "p8.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p8:HLT" }
    }
  }

  module out9 = PoolOutputModule
  {
    untracked string fileName = "p9.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p9:HLT" }
    }
  }

  module out10 = PoolOutputModule
  {
    untracked string fileName = "p10.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p10:HLT" }
    }
  }

  module out11 = PoolOutputModule
  {
    untracked string fileName = "p11.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p11:HLT" }
    }
  }

  module out12 = PoolOutputModule
  {
    untracked string fileName = "p12.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p12:HLT" }
    }
  }

  module out13 = PoolOutputModule
  {
    untracked string fileName = "p13.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p13:HLT" }
    }
  }

  module out14 = PoolOutputModule
  {
    untracked string fileName = "p14.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p14:HLT" }
    }
  }

  module out15 = PoolOutputModule
  {
    untracked string fileName = "p15.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p15:HLT" }
    }
  }

  module out16 = PoolOutputModule
  {
    untracked string fileName = "p16.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p16:HLT" }
    }
  }

  module out17 = PoolOutputModule
  {
    untracked string fileName = "p17.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p17:HLT" }
    }
  }

  module out18 = PoolOutputModule
  {
    untracked string fileName = "p18.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p18:HLT" }
    }
  }

  module out19 = PoolOutputModule
  {
    untracked string fileName = "p19.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p19:HLT" }
    }
  }

  module out20 = PoolOutputModule
  {
    untracked string fileName = "p20.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p20:HLT" }
    }
  }

  module out21 = PoolOutputModule
  {
    untracked string fileName = "p21.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p21:HLT" }
    }
  }

  module out22 = PoolOutputModule
  {
    untracked string fileName = "p22.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p22:HLT" }
    }
  }

  module out23 = PoolOutputModule
  {
    untracked string fileName = "p23.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p23:HLT" }
    }
  }

  module out24 = PoolOutputModule
  {
    untracked string fileName = "p24.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p24:HLT" }
    }
  }

  module out25 = PoolOutputModule
  {
    untracked string fileName = "p25.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p25:HLT" }
    }
  }

  module out26 = PoolOutputModule
  {
    untracked string fileName = "p26.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p26:HLT" }
    }
  }

  module out27 = PoolOutputModule
  {
    untracked string fileName = "p27.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p27:HLT" }
    }
  }

  module out28 = PoolOutputModule
  {
    untracked string fileName = "p28.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p28:HLT" }
    }
  }

  module out29 = PoolOutputModule
  {
    untracked string fileName = "p29.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p29:HLT" }
    }
  }

  module out30 = PoolOutputModule
  {
    untracked string fileName = "p30.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p30:HLT" }
    }
  }

  module out31 = PoolOutputModule
  {
    untracked string fileName = "p31.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p31:HLT" }
    }
  }

  module out32 = PoolOutputModule
  {
    untracked string fileName = "p32.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p32:HLT" }
    }
  }

  module out33 = PoolOutputModule
  {
    untracked string fileName = "p33.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p33:HLT" }
    }
  }

  module out34 = PoolOutputModule
  {
    untracked string fileName = "p34.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p34:HLT" }
    }
  }

  module out35 = PoolOutputModule
  {
    untracked string fileName = "p35.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p35:HLT" }
    }
  }

  module out36 = PoolOutputModule
  {
    untracked string fileName = "p36.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p36:HLT" }
    }
  }

  module out37 = PoolOutputModule
  {
    untracked string fileName = "p37.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p37:HLT" }
    }
  }

  module out38 = PoolOutputModule
  {
    untracked string fileName = "p38.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p38:HLT" }
    }
  }

  module out39 = PoolOutputModule
  {
    untracked string fileName = "p39.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p39:HLT" }
    }
  }

  module out40 = PoolOutputModule
  {
    untracked string fileName = "p40.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p40:HLT" }
    }
  }

  module out41 = PoolOutputModule
  {
    untracked string fileName = "p41.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p41:HLT" }
    }
  }

  module out42 = PoolOutputModule
  {
    untracked string fileName = "p42.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p42:HLT" }
    }
  }

  module out43 = PoolOutputModule
  {
    untracked string fileName = "p43.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p43:HLT" }
    }
  }

  module out44 = PoolOutputModule
  {
    untracked string fileName = "p44.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p44:HLT" }
    }
  }

  module out45 = PoolOutputModule
  {
    untracked string fileName = "p45.root"

    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p45:HLT" }
    }
  }

  module out46 = PoolOutputModule
  {
    untracked string fileName = "p46.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p46:HLT" }
    }
  }

  module out47 = PoolOutputModule
  {
    untracked string fileName = "p47.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p47:HLT" }
    }
  }

  module out48 = PoolOutputModule
  {
    untracked string fileName = "p48.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p48:HLT" }
    }
  }

  module out49 = PoolOutputModule
  {
    untracked string fileName = "p49.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p49:HLT" }
    }
  }

  module out50 = PoolOutputModule
  {
    untracked string fileName = "p50.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p50:HLT" }
    }
  }

  endpath o = { out1 &
                out2 &
                out3 &
                out4 &
                out5 &
                out6 &
                out7 &
                out8 &
                out9 &
                out10 &
                out11 &
                out12 &
                out13 &
                out14 &
                out15 &
                out16 &
                out17 &
                out18 &
                out19 &
                out20 &
                out21 &
                out22 &
                out23 &
                out24 &
                out25 &
                out26 &
                out27 &
                out28 &
                out29 &
                out30 &
                out31 &
                out32 &
                out33 &
                out34 &
                out35 &
                out36 &
                out37 &
                out38 &
                out39 &
                out40 &
                out41 &
                out42 &
                out43 &
                out44 &
                out45 &
                out46 &
                out47 &
                out48 &
                out49 &
                out50
              }
}

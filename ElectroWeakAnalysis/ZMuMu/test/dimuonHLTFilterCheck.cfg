process dimuonHLTFilterCheck = {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  include "ElectroWeakAnalysis/ZReco/data/mcTruthForDimuons.cff"
  include "ElectroWeakAnalysis/ZReco/data/dimuonsHLTFilter.cfi"

  source = PoolSource {
    untracked vstring fileNames = {
#	"file:skimmedZmm_test.root"
	"file:/tmp/piccolo/dimuons_3.root"  
	}
}

  untracked PSet maxEvents = {
    untracked int32 input = 300
  }

  service = TFileService { 
    string fileName ="dimuonHLTFilterCheck.root"
  }

 
  module zToMuMu = CandViewRefSelector {
    InputTag src = dimuons
    string cut = "daughter(0).isGlobalMuon = 1 & daughter(1).isGlobalMuon = 1"
#    using zSelection
#    bool filter = true
  }


  module ModuledimuonHLTFilterCheck = dimuonHLTFilterCheck {
    InputTag tracks = goodTracks		
    InputTag muons = selectedLayer1Muons
    InputTag anyDimuon = dimuons
    InputTag triggerResults  = TriggerResults::HLT
 }

   module eventInfo = AsciiOutputModule { 
#     untracked uint32 prescale = 1000
   }

   path p = {
	dimuonsHLTFilter,	
	zToMuMu,
	ModuledimuonHLTFilterCheck
	}

   endpath e = { 
     eventInfo 
   }
}
